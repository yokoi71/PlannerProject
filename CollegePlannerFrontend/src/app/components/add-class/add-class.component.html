<div
  class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"
>
  <div
    class="bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto"
  >
    <!-- Header -->
    <div class="bg-blue-900 bg-opacity-90 rounded-t-xl p-6 text-white">
      <div class="flex items-center">
        <i class="fas fa-plus-circle text-2xl mr-4"></i>
        <div>
          <h2 class="text-2xl font-bold">Add New Class</h2>
          <p class="text-blue-100">Create a new course schedule entry</p>
        </div>
      </div>
    </div>

    <!-- Form Content -->
    <div class="p-6">
      <form (ngSubmit)="onSubmit()" #addClassForm="ngForm">
        <!-- Course Information Section -->
        <div class="bg-blue-50 rounded-lg p-6 mb-6">
          <h3
            class="text-xl font-semibold text-blue-900 mb-4 border-b-2 border-blue-200 pb-3"
          >
            <i class="fas fa-book text-blue-600 mr-3"></i>
            Course Information
          </h3>

          <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <div class="lg:col-span-2">
              <label
                for="courseName"
                class="block text-sm font-semibold text-blue-800 mb-2"
              >
                <i class="fas fa-graduation-cap text-blue-600 mr-2"></i>
                Course Name *
              </label>
              <input
                type="text"
                id="courseName"
                name="courseName"
                [(ngModel)]="course.courseName"
                required
                class="w-full px-4 py-3 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200"
                placeholder="e.g., Introduction to Computer Science"
              />
            </div>
            <div>
              <label
                for="room"
                class="block text-sm font-semibold text-blue-800 mb-2"
              >
                <i class="fas fa-door-open text-blue-600 mr-2"></i>
                Room
              </label>
              <input
                type="text"
                id="room"
                name="room"
                [(ngModel)]="course.room"
                class="w-full px-4 py-3 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200"
                placeholder="e.g., Room 101"
              />
            </div>
          </div>

          <div class="mt-6">
            <label
              for="professorName"
              class="block text-sm font-semibold text-blue-800 mb-2"
            >
              <i class="fas fa-user-tie text-blue-600 mr-2"></i>
              Professor Name
            </label>
            <input
              type="text"
              id="professorName"
              name="professorName"
              [(ngModel)]="course.professorName"
              class="w-full px-4 py-3 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200"
              placeholder="e.g., Dr. John Smith"
            />
          </div>
        </div>

        <!-- Schedule Section -->
        <div class="bg-blue-50 rounded-lg p-6 mb-6">
          <h3
            class="text-xl font-semibold text-blue-900 mb-4 border-b-2 border-blue-200 pb-3"
          >
            <i class="fas fa-calendar-alt text-blue-600 mr-3"></i>
            Class Schedule
          </h3>

          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            <div
              *ngFor="let day of daysOfWeek"
              class="bg-white rounded-lg p-4 shadow-sm border border-blue-200"
            >
              <div class="flex items-center mb-3">
                <input
                  class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"
                  type="checkbox"
                  [id]="'day-' + day"
                  [checked]="!!dayTimes[day]"
                  (change)="onDayToggle(day, $event)"
                />
                <label
                  class="ml-2 text-sm font-semibold text-blue-900"
                  [for]="'day-' + day"
                >
                  {{ day }}
                </label>
              </div>

              <div *ngIf="dayTimes[day]" class="space-y-3">
                <div>
                  <label class="block text-xs font-medium text-blue-700 mb-1"
                    >Start Time</label
                  >
                  <select
                    class="w-full px-3 py-2 border border-blue-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"
                    id="start-{{ day }}"
                    [(ngModel)]="dayTimes[day].start"
                    name="start-{{ day }}"
                    required
                  >
                    <option value="" disabled selected>Select</option>
                    <option
                      *ngFor="let t of getStartTimeOptions(day)"
                      [value]="t"
                    >
                      {{ t }}
                    </option>
                  </select>
                </div>
                <div>
                  <label class="block text-xs font-medium text-blue-700 mb-1"
                    >End Time</label
                  >
                  <select
                    class="w-full px-3 py-2 border border-blue-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"
                    id="end-{{ day }}"
                    [(ngModel)]="dayTimes[day].end"
                    name="end-{{ day }}"
                    required
                  >
                    <option value="" disabled selected>Select</option>
                    <option
                      *ngFor="let t of getEndTimeOptions(day)"
                      [value]="t"
                    >
                      {{ t }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Action Buttons -->
        <div
          class="flex flex-col sm:flex-row gap-4 justify-end pt-6 border-t-2 border-blue-200"
        >
          <button
            type="button"
            (click)="onCancel()"
            class="px-6 py-3 bg-gray-600 text-white font-semibold rounded-lg hover:bg-gray-700 focus:ring-4 focus:ring-gray-300 transition-colors duration-200 transform hover:scale-105"
          >
            <i class="fas fa-times mr-2"></i>
            Cancel
          </button>
          <button
            type="submit"
            [disabled]="!addClassForm.valid || isSubmitting"
            class="px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 transition-colors duration-200 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed"
          >
            <i class="fas fa-save mr-2"></i>
            {{ isSubmitting ? "Adding..." : "Add Class" }}
          </button>
        </div>

        <!-- Error Message -->
        <div
          *ngIf="errorMessage"
          class="mt-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg"
        >
          <i class="fas fa-exclamation-triangle mr-2"></i>
          {{ errorMessage }}
        </div>
      </form>
    </div>
  </div>
</div>
